{
  "$schema": "http://json-schema.org/draft-06/schema#",

  "properties": {
    "password": {"type": "string"},
    "taskrc_path": {"type": "string", "default": "~"},
    "blocked_sites": {"type": "array", "default": [], "items": {"type": "string"}},
    "blocking_ip": {
      "default": "127.0.0.1",
      "anyOf": [
        {"type": "string", "format": "ipv4"},
        {"type": "string", "format": "ipv6"}
      ]
    },
    "pomodoro": {
      "$ref": "#/definitions/pomodoro"
    },
    "locations": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/location"
      }
    }
  },
  "required": ["password"],
  "additionalProperties": false,

  "definitions": {
    "pomodoro": {
      "type": "object",
      "properties": {
        "pomodoro_length": {"type": "integer", "default": 25},
        "short_rest": {"type": "integer", "default": 5},
        "long_rest": {"type": "integer", "default": 15},
        "cycles_before_long_rest": {"type": "integer", "default": 4},
        "notifications": {"type": "boolean", "default": true}
      },
      "required": ["pomodoro_length", "short_rest", "long_rest", "cycles_before_long_rest"],
      "additionalProperties": false
    },
    "location": {
      "type": "object",
      "properties": {
        "name": {"type": "string"},
        "activation": {
          "type": "object",
          "properties": {
            "start": {"type": "string"},
            "end": {"type": "string"},
            "days": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "required": ["start", "end"],
          "additionalProperties": false
        },
        "pomodoro": {
          "$ref": "#/definitions/pomodoro"
        }
      },
      "required": ["activation"],
      "additionalProperties": false
    }
  }
}
